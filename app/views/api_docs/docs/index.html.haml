.container-fluid
  .row
    .col-sm-3.col-md-2.sidebar
      - @api_controllers.each_with_index do |(controller, actions), ci|
        .list-group
          %a.list-group-item.disabled{href: '#'}= controller.gsub(/\W/, '_').humanize.titleize
          - actions.sort.to_h.each_with_index do |(action, data), ai|
            - tab_id = "#{controller.gsub(/\W/, '_')}_#{action}_#{data['method']}"
            = link_to action.humanize.titleize, "##{tab_id}", class:'list-group-item'

    .col-sm-9.col-sm-offset-3.col-md-10.col-md-offset-2.main
      - @api_controllers.each_with_index do |(controller, actions), ci|
        - actions.sort.to_h.each_with_index do |(action, data), ai|
          - tab_id = "#{controller.gsub(/\W/, '_')}_#{action}_#{data['method']}"
          %a.anchor{name: tab_id}
          - data.each do |key, data|
            .panel.panel-default
              .panel-heading
                .row
                  .col-md-2
                    - if ['get'].include?(data['method'].downcase)
                      %span.label.label-success= data['method']
                    - else
                      %span.label.label-danger= data['method']
                  .col-md-10
                    %code= data['path']
              .panel-body
                - description = data.fetch('meta', {}).fetch(:description)
                - if description
                  - data.fetch('meta', {}).delete(:description)
                  .description
                    = Haml::Engine.new(description).render rescue description
              = render partial: 'action', object: data